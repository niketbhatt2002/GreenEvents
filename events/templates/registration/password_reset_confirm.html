{% extends 'base.html' %}
{% load static %}

{% block title %}Set New Password - GreenEvents{% endblock %}

{% block content %}

<div class="form-container">
    <div class="form-card">
        <div class="form-header">
            <div class="form-icon">üîê</div>
            <h2>Set New Password</h2>
            <p>Choose a strong password for your account</p>
        </div>

        {% if validlink %}
        <form method="post">
            {% csrf_token %}

            <div class="form-group">
                <label for="id_new_password1">New Password</label>
                <input type="password"
                       name="new_password1"
                       id="id_new_password1"
                       class="form-control"
                       placeholder="Enter new password"
                       required
                       autofocus>
                <small class="form-text">Must be at least 8 characters</small>
            </div>

            <div class="form-group">
                <label for="id_new_password2">Confirm New Password</label>
                <input type="password"
                       name="new_password2"
                       id="id_new_password2"
                       class="form-control"
                       placeholder="Confirm new password"
                       required>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-success">Reset Password</button>
            </div>
        </form>
        {% else %}
        <div class="alert alert-danger">
            <strong>‚ùå Invalid Link</strong><br>
            This password reset link is invalid or has expired.
            <a href="{% url 'password_reset' %}">Request a new one</a>
        </div>
        {% endif %}
    </div>
</div>

{% endblock %}